<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库建表的15个小技巧 | Yangzhou&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/JavaCore/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/JavaCore/assets/css/0.styles.cc85f9e9.css" as="style"><link rel="preload" href="/JavaCore/assets/js/app.dbe5bb79.js" as="script"><link rel="preload" href="/JavaCore/assets/js/2.cf8b9bc2.js" as="script"><link rel="preload" href="/JavaCore/assets/js/69.a6686601.js" as="script"><link rel="prefetch" href="/JavaCore/assets/js/10.9f090219.js"><link rel="prefetch" href="/JavaCore/assets/js/100.29326bf6.js"><link rel="prefetch" href="/JavaCore/assets/js/101.ed219511.js"><link rel="prefetch" href="/JavaCore/assets/js/102.1849f36a.js"><link rel="prefetch" href="/JavaCore/assets/js/103.26048576.js"><link rel="prefetch" href="/JavaCore/assets/js/104.eecd0015.js"><link rel="prefetch" href="/JavaCore/assets/js/105.61fc1cbf.js"><link rel="prefetch" href="/JavaCore/assets/js/106.ac630438.js"><link rel="prefetch" href="/JavaCore/assets/js/107.b54a458a.js"><link rel="prefetch" href="/JavaCore/assets/js/108.8037c42e.js"><link rel="prefetch" href="/JavaCore/assets/js/109.9212d109.js"><link rel="prefetch" href="/JavaCore/assets/js/11.9a7f2cc5.js"><link rel="prefetch" href="/JavaCore/assets/js/110.1f43ffb0.js"><link rel="prefetch" href="/JavaCore/assets/js/111.bdc6762f.js"><link rel="prefetch" href="/JavaCore/assets/js/112.8db475ef.js"><link rel="prefetch" href="/JavaCore/assets/js/113.1b707a82.js"><link rel="prefetch" href="/JavaCore/assets/js/114.487bbb17.js"><link rel="prefetch" href="/JavaCore/assets/js/115.cf5da376.js"><link rel="prefetch" href="/JavaCore/assets/js/116.b1a94ddc.js"><link rel="prefetch" href="/JavaCore/assets/js/117.9b286be7.js"><link rel="prefetch" href="/JavaCore/assets/js/118.92c02ebd.js"><link rel="prefetch" href="/JavaCore/assets/js/119.d10444ee.js"><link rel="prefetch" href="/JavaCore/assets/js/12.4e4bc020.js"><link rel="prefetch" href="/JavaCore/assets/js/120.e8b94366.js"><link rel="prefetch" href="/JavaCore/assets/js/121.a4b4532c.js"><link rel="prefetch" href="/JavaCore/assets/js/122.a5a58616.js"><link rel="prefetch" href="/JavaCore/assets/js/123.ac19b759.js"><link rel="prefetch" href="/JavaCore/assets/js/124.c59d8ea6.js"><link rel="prefetch" href="/JavaCore/assets/js/125.7fa7248f.js"><link rel="prefetch" href="/JavaCore/assets/js/126.58693f82.js"><link rel="prefetch" href="/JavaCore/assets/js/127.2b7164af.js"><link rel="prefetch" href="/JavaCore/assets/js/128.b0263be1.js"><link rel="prefetch" href="/JavaCore/assets/js/129.f84d6fd7.js"><link rel="prefetch" href="/JavaCore/assets/js/13.8a0efd09.js"><link rel="prefetch" href="/JavaCore/assets/js/130.01ea4ae5.js"><link rel="prefetch" href="/JavaCore/assets/js/131.be60f242.js"><link rel="prefetch" href="/JavaCore/assets/js/132.c2c51989.js"><link rel="prefetch" href="/JavaCore/assets/js/133.8f9dafb8.js"><link rel="prefetch" href="/JavaCore/assets/js/134.01e63d8c.js"><link rel="prefetch" href="/JavaCore/assets/js/135.525c2b82.js"><link rel="prefetch" href="/JavaCore/assets/js/136.63f1b874.js"><link rel="prefetch" href="/JavaCore/assets/js/137.d21c2148.js"><link rel="prefetch" href="/JavaCore/assets/js/138.624e083e.js"><link rel="prefetch" href="/JavaCore/assets/js/139.f7e8952b.js"><link rel="prefetch" href="/JavaCore/assets/js/14.498f0f13.js"><link rel="prefetch" href="/JavaCore/assets/js/140.dab308bd.js"><link rel="prefetch" href="/JavaCore/assets/js/141.1ac256fd.js"><link rel="prefetch" href="/JavaCore/assets/js/142.7a9fa726.js"><link rel="prefetch" href="/JavaCore/assets/js/143.b68131a3.js"><link rel="prefetch" href="/JavaCore/assets/js/144.82e8baaa.js"><link rel="prefetch" href="/JavaCore/assets/js/145.99979fc8.js"><link rel="prefetch" href="/JavaCore/assets/js/15.39f67d96.js"><link rel="prefetch" href="/JavaCore/assets/js/16.48d66c2b.js"><link rel="prefetch" href="/JavaCore/assets/js/17.1e056961.js"><link rel="prefetch" href="/JavaCore/assets/js/18.3f37c5b4.js"><link rel="prefetch" href="/JavaCore/assets/js/19.a00e4ca5.js"><link rel="prefetch" href="/JavaCore/assets/js/20.91ede9d4.js"><link rel="prefetch" href="/JavaCore/assets/js/21.97d95015.js"><link rel="prefetch" href="/JavaCore/assets/js/22.782f1f6b.js"><link rel="prefetch" href="/JavaCore/assets/js/23.f564b434.js"><link rel="prefetch" href="/JavaCore/assets/js/24.26e1a731.js"><link rel="prefetch" href="/JavaCore/assets/js/25.ccb93a96.js"><link rel="prefetch" href="/JavaCore/assets/js/26.c5cc88b8.js"><link rel="prefetch" href="/JavaCore/assets/js/27.5a7f3f72.js"><link rel="prefetch" href="/JavaCore/assets/js/28.a5c1dfc9.js"><link rel="prefetch" href="/JavaCore/assets/js/29.7f19c13e.js"><link rel="prefetch" href="/JavaCore/assets/js/3.046617c7.js"><link rel="prefetch" href="/JavaCore/assets/js/30.9eda9a01.js"><link rel="prefetch" href="/JavaCore/assets/js/31.4fd367a3.js"><link rel="prefetch" href="/JavaCore/assets/js/32.02b9b683.js"><link rel="prefetch" href="/JavaCore/assets/js/33.3d407681.js"><link rel="prefetch" href="/JavaCore/assets/js/34.b41236d3.js"><link rel="prefetch" href="/JavaCore/assets/js/35.46feef49.js"><link rel="prefetch" href="/JavaCore/assets/js/36.7d4b5669.js"><link rel="prefetch" href="/JavaCore/assets/js/37.d25f11ea.js"><link rel="prefetch" href="/JavaCore/assets/js/38.f22f5ab0.js"><link rel="prefetch" href="/JavaCore/assets/js/39.df5ee31c.js"><link rel="prefetch" href="/JavaCore/assets/js/4.c83a1c34.js"><link rel="prefetch" href="/JavaCore/assets/js/40.525e113b.js"><link rel="prefetch" href="/JavaCore/assets/js/41.cddbe633.js"><link rel="prefetch" href="/JavaCore/assets/js/42.1e438b80.js"><link rel="prefetch" href="/JavaCore/assets/js/43.febd76a5.js"><link rel="prefetch" href="/JavaCore/assets/js/44.7f87cee9.js"><link rel="prefetch" href="/JavaCore/assets/js/45.8d61377c.js"><link rel="prefetch" href="/JavaCore/assets/js/46.18aebce3.js"><link rel="prefetch" href="/JavaCore/assets/js/47.5088be63.js"><link rel="prefetch" href="/JavaCore/assets/js/48.69473d1a.js"><link rel="prefetch" href="/JavaCore/assets/js/49.d2efec80.js"><link rel="prefetch" href="/JavaCore/assets/js/5.1f838002.js"><link rel="prefetch" href="/JavaCore/assets/js/50.aadca120.js"><link rel="prefetch" href="/JavaCore/assets/js/51.5803f7f2.js"><link rel="prefetch" href="/JavaCore/assets/js/52.daaa1b04.js"><link rel="prefetch" href="/JavaCore/assets/js/53.8500fd5e.js"><link rel="prefetch" href="/JavaCore/assets/js/54.0fb86c99.js"><link rel="prefetch" href="/JavaCore/assets/js/55.84bfb455.js"><link rel="prefetch" href="/JavaCore/assets/js/56.1c311c57.js"><link rel="prefetch" href="/JavaCore/assets/js/57.5b86dea5.js"><link rel="prefetch" href="/JavaCore/assets/js/58.98e4c3fa.js"><link rel="prefetch" href="/JavaCore/assets/js/59.de3f9828.js"><link rel="prefetch" href="/JavaCore/assets/js/6.df6c0997.js"><link rel="prefetch" href="/JavaCore/assets/js/60.0394a173.js"><link rel="prefetch" href="/JavaCore/assets/js/61.22019e53.js"><link rel="prefetch" href="/JavaCore/assets/js/62.2ad3a891.js"><link rel="prefetch" href="/JavaCore/assets/js/63.d2471b50.js"><link rel="prefetch" href="/JavaCore/assets/js/64.5c66ac60.js"><link rel="prefetch" href="/JavaCore/assets/js/65.1124d1dc.js"><link rel="prefetch" href="/JavaCore/assets/js/66.76d430c7.js"><link rel="prefetch" href="/JavaCore/assets/js/67.25fe71ce.js"><link rel="prefetch" href="/JavaCore/assets/js/68.5a9a18b1.js"><link rel="prefetch" href="/JavaCore/assets/js/7.7349be35.js"><link rel="prefetch" href="/JavaCore/assets/js/70.a4fab40c.js"><link rel="prefetch" href="/JavaCore/assets/js/71.d9f3391e.js"><link rel="prefetch" href="/JavaCore/assets/js/72.2d18ca66.js"><link rel="prefetch" href="/JavaCore/assets/js/73.e9600bca.js"><link rel="prefetch" href="/JavaCore/assets/js/74.9fdebd15.js"><link rel="prefetch" href="/JavaCore/assets/js/75.41e339f7.js"><link rel="prefetch" href="/JavaCore/assets/js/76.837d8ab0.js"><link rel="prefetch" href="/JavaCore/assets/js/77.80e8e41b.js"><link rel="prefetch" href="/JavaCore/assets/js/78.8b802ab7.js"><link rel="prefetch" href="/JavaCore/assets/js/79.e8c07b67.js"><link rel="prefetch" href="/JavaCore/assets/js/8.49eea5b1.js"><link rel="prefetch" href="/JavaCore/assets/js/80.9bf88a6f.js"><link rel="prefetch" href="/JavaCore/assets/js/81.e555a891.js"><link rel="prefetch" href="/JavaCore/assets/js/82.8166fa2d.js"><link rel="prefetch" href="/JavaCore/assets/js/83.42d6ed2a.js"><link rel="prefetch" href="/JavaCore/assets/js/84.2a7891a5.js"><link rel="prefetch" href="/JavaCore/assets/js/85.5be9849a.js"><link rel="prefetch" href="/JavaCore/assets/js/86.7a7a9e12.js"><link rel="prefetch" href="/JavaCore/assets/js/87.6aef9807.js"><link rel="prefetch" href="/JavaCore/assets/js/88.1c5b0a37.js"><link rel="prefetch" href="/JavaCore/assets/js/89.fe008ebb.js"><link rel="prefetch" href="/JavaCore/assets/js/9.e8631032.js"><link rel="prefetch" href="/JavaCore/assets/js/90.376d33c9.js"><link rel="prefetch" href="/JavaCore/assets/js/91.15c5fbe3.js"><link rel="prefetch" href="/JavaCore/assets/js/92.e9fc8ac6.js"><link rel="prefetch" href="/JavaCore/assets/js/93.b7f62797.js"><link rel="prefetch" href="/JavaCore/assets/js/94.1d3a0306.js"><link rel="prefetch" href="/JavaCore/assets/js/95.3a200e03.js"><link rel="prefetch" href="/JavaCore/assets/js/96.051004dc.js"><link rel="prefetch" href="/JavaCore/assets/js/97.226de7d4.js"><link rel="prefetch" href="/JavaCore/assets/js/98.b529ae69.js"><link rel="prefetch" href="/JavaCore/assets/js/99.9d41538a.js">
    <link rel="stylesheet" href="/JavaCore/assets/css/0.styles.cc85f9e9.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JavaCore/" class="home-link router-link-active"><img src="/JavaCore/img/logo.png" alt="Yangzhou's blog" class="logo"> <span class="site-name can-hide">Yangzhou's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JavaCore/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/JavaCore/guide/" class="nav-link">🔎导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/JavaCore/web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/note/java/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/list/" class="nav-link">容器</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/IO/" class="nav-link">IO</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/concurrence/" class="nav-link">并发</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/e0e559/" class="nav-link">数据算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/JavaCore/sql/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库基础和原理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/ef2a3c/" class="nav-link">数据库原理</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/ae8aaa/" class="nav-link">SQL语言</a></li></ul></li><li class="dropdown-item"><h4>SQL数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/661e9c/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/SpringMVC/" class="nav-link"></a></li></ul></li><li class="dropdown-item"><h4>NoSQL数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/8143cc480faf9a11/" class="nav-link"></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/d43ed2/" class="nav-link">Spring5</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/123407/" class="nav-link">SpringMVC</a></li></ul></li><li class="dropdown-item"><h4>SpringBoot</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/b36791/" class="nav-link">♥SpringBoot 知识体系详解♥</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/0950b1/" class="nav-link">SpringBoot入门</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/4b305a/" class="nav-link">SpringBoot接口设计和实现</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/6bd46a/" class="nav-link">SpringBoot集成数据库</a></li></ul></li><li class="dropdown-item"><h4>SpringBoot2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/194038/" class="nav-link">SpringBoot基础篇</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/frame/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/JavaCore/frame/MyBatis-Plus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/frame/Redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/JavaCore/frame/RabbitMQ/" class="nav-link">RabbitMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🛠️工具|部署" class="dropdown-title"><!----> <span class="title" style="display:;">🛠️工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/note/java/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/SpringMVC/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📚项目" class="dropdown-title"><!----> <span class="title" style="display:;">📚项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/project/guli/" class="nav-link">🏫谷粒学院</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔖面经" class="dropdown-title"><!----> <span class="title" style="display:;">🔖面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/3c0dd9/" class="nav-link">备战面试</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/cd85af/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/6ce629/" class="nav-link">常用框架</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/JavaCore/article/" class="nav-link">📖文章</a></div><div class="nav-item"><a href="/JavaCore/pages/8b8ebb/" class="nav-link">刷题</a></div> <a href="https://github.com/MrYz0" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/头像.jpg"> <div class="blogger-info"><h3>杨洲</h3> <span>后端界的小白</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/JavaCore/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/JavaCore/guide/" class="nav-link">🔎导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/JavaCore/web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/note/java/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/list/" class="nav-link">容器</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/IO/" class="nav-link">IO</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/concurrence/" class="nav-link">并发</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/e0e559/" class="nav-link">数据算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/JavaCore/sql/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库基础和原理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/ef2a3c/" class="nav-link">数据库原理</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/ae8aaa/" class="nav-link">SQL语言</a></li></ul></li><li class="dropdown-item"><h4>SQL数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/661e9c/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/SpringMVC/" class="nav-link"></a></li></ul></li><li class="dropdown-item"><h4>NoSQL数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/8143cc480faf9a11/" class="nav-link"></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/d43ed2/" class="nav-link">Spring5</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/123407/" class="nav-link">SpringMVC</a></li></ul></li><li class="dropdown-item"><h4>SpringBoot</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/b36791/" class="nav-link">♥SpringBoot 知识体系详解♥</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/0950b1/" class="nav-link">SpringBoot入门</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/4b305a/" class="nav-link">SpringBoot接口设计和实现</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/6bd46a/" class="nav-link">SpringBoot集成数据库</a></li></ul></li><li class="dropdown-item"><h4>SpringBoot2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/194038/" class="nav-link">SpringBoot基础篇</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/frame/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/JavaCore/frame/MyBatis-Plus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/frame/Redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/JavaCore/frame/RabbitMQ/" class="nav-link">RabbitMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🛠️工具|部署" class="dropdown-title"><!----> <span class="title" style="display:;">🛠️工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/note/java/" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/JavaCore/note/SpringMVC/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📚项目" class="dropdown-title"><!----> <span class="title" style="display:;">📚项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/project/guli/" class="nav-link">🏫谷粒学院</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔖面经" class="dropdown-title"><!----> <span class="title" style="display:;">🔖面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JavaCore/pages/3c0dd9/" class="nav-link">备战面试</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/cd85af/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/JavaCore/pages/6ce629/" class="nav-link">常用框架</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/JavaCore/article/" class="nav-link">📖文章</a></div><div class="nav-item"><a href="/JavaCore/pages/8b8ebb/" class="nav-link">刷题</a></div> <a href="https://github.com/MrYz0" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MySQL</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaCore/pages/c5dd26/" class="sidebar-link">分库分表</a></li><li><a href="/JavaCore/pages/8df0e8/" class="sidebar-link">8个小妙招搞定数据库性能优化</a></li><li><a href="/JavaCore/pages/eb9f95/" class="sidebar-link">数据权限就该这么设计,yyyds！</a></li><li><a href="/JavaCore/pages/f763ef/" class="sidebar-link">数据库日期类型字段设计，应该如何选择?</a></li><li><a href="/JavaCore/pages/deaac8/" class="sidebar-link">数据库表关系详解(一对多、一对一、多对多)</a></li><li><a href="/JavaCore/pages/ad4fda/" aria-current="page" class="active sidebar-link">数据库建表的15个小技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_1、名字" class="sidebar-link">1、名字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-1-见名知意" class="sidebar-link">1.1 见名知意</a></li><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-2-大小写" class="sidebar-link">1.2 大小写</a></li><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-3-分隔符" class="sidebar-link">1.3 分隔符</a></li><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-4-表名" class="sidebar-link">1.4 表名</a></li><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-5-字段名称" class="sidebar-link">1.5 字段名称</a></li><li class="sidebar-sub-header level3"><a href="/JavaCore/pages/ad4fda/#_1-6-索引名" class="sidebar-link">1.6 索引名</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_2、字段类型" class="sidebar-link">2、字段类型</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_3、字段长度" class="sidebar-link">3、字段长度</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_4、字段个数" class="sidebar-link">4、字段个数</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_5、主键" class="sidebar-link">5、主键</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_6、存储引擎" class="sidebar-link">6、存储引擎</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_7、not-null" class="sidebar-link">7、NOT NULL</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_8、外键" class="sidebar-link">8、外键</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_9、索引" class="sidebar-link">9、索引</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_10、时间字段" class="sidebar-link">10、时间字段</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_11、金额字段" class="sidebar-link">11、金额字段</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_12、唯一索引" class="sidebar-link">12、唯一索引</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_13、字符集" class="sidebar-link">13、字符集</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_14、排序规则" class="sidebar-link">14、排序规则</a></li><li class="sidebar-sub-header level2"><a href="/JavaCore/pages/ad4fda/#_15、大字段" class="sidebar-link">15、大字段</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java开发手册</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>改变Java程序的151个建议</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/JavaCore/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/JavaCore/article/#文章" data-v-06225672>文章</a></li><li data-v-06225672><a href="/JavaCore/article/#MySQL" data-v-06225672>MySQL</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xugaoyi" target="_blank" title="作者" class="beLink" data-v-06225672>杨洲</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-08-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">数据库建表的15个小技巧<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>对于后端开发同学来说，访问数据库，是代码中必不可少的一个环节。</p> <p>系统中收集到用户的核心数据，为了安全性，我们一般会存储到数据库，比如：mysql，oracle等。</p> <p>后端开发的日常工作，需要不断的建库和建表，来满足业务需求。</p> <p>通常情况下，建库的频率比建表要低很多，所以，我们这篇文章主要讨论建表相关的内容。</p> <p><img src="http://yz-typora-img.oss-cn-shanghai.aliyuncs.com/img/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BB%BA%E8%A1%A8%E7%9A%8415%E4%B8%AA%E6%8A%80%E5%B7%A7.png" alt="数据库建表的15个技巧"></p> <h2 id="_1、名字"><a href="#_1、名字" class="header-anchor">#</a> 1、名字</h2> <p>建表的时候，给<code>表</code>、<code>字段</code>和<code>索引</code>起个好名字，真的太重要了。</p> <h3 id="_1-1-见名知意"><a href="#_1-1-见名知意" class="header-anchor">#</a> 1.1 见名知意</h3> <p>名字就像<code>表</code>、<code>字段</code>和<code>索引</code>的一张脸，可以给人留下第一印象。</p> <p>好的名字，言简意赅，见名知意，让人心情愉悦，能够提高沟通和维护成本。</p> <p>坏的名字，模棱两可，不知所云。而且显得杂乱无章，看得让人抓狂。</p> <p><span style="color:#FF8C00;"><strong>反例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>用户名称字段定义成：yong_hu_ming、用户_name、name、user_name_123456789
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><span style="color:green;"><strong>正例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>用户名称字段定义成：user_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提醒一下，名字也不宜过长，尽量控制在<code>30</code>个字符以内。</p></blockquote> <h3 id="_1-2-大小写"><a href="#_1-2-大小写" class="header-anchor">#</a> 1.2 大小写</h3> <p>名字尽量都用<code>小写字母</code>，因为从视觉上，小写字母更容易让人读懂。</p> <p><span style="color:#FF8C00;"><strong>反例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>字段名：PRODUCT_NAME、PRODUCT_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>全部大写，看起来有点不太直观。而一部分大写，一部分小写，让人看着更不爽。</p> <p><span style="color:green;"><strong>正例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>字段名：product_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>名字还是使用全小写字母，看着更舒服。</p> <h3 id="_1-3-分隔符"><a href="#_1-3-分隔符" class="header-anchor">#</a> 1.3 分隔符</h3> <p>很多时候，名字为了让人好理解，有可能会包含多个单词。</p> <p>那么，多个单词间的<code>分隔符</code>该用什么呢？</p> <p><span style="color:#FF8C00;"><strong>反例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>字段名：productname、productName、product name、product<span class="token variable">@name</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>单词间没有分隔，或者单词间用驼峰标识，或者单词间用空格分隔，或者单词间用@分隔，这几种方式都不太建议。</p> <p><span style="color:green;"><strong>正例：</strong></span></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>字段名：product_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>强烈建议大家在单词间用<code>_</code>分隔。</p> <h3 id="_1-4-表名"><a href="#_1-4-表名" class="header-anchor">#</a> 1.4 表名</h3> <p>对于表名，在言简意赅，见名知意的基础之上，建议带上<code>业务前缀</code>。</p> <p>如果是订单相关的业务表，可以在表名前面加个前缀：<code>order_</code>。</p> <p>例如：order_pay、order_pay_detail等。</p> <p>如果是商品相关的业务表，可以在表名前面加个前缀：<code>product_</code>。</p> <p>例如：product_spu，product_sku等。</p> <p>这样做的好处是为了方便归类，把相同业务的表，可以非常快速的聚集到一起。</p> <p>另外，还有有个好处是，如果哪天有非订单的业务，比如：金融业务，也需要建一个名字叫做pay的表，可以取名：finance_pay，就能非常轻松的区分。</p> <p>这样就不会出现<code>同名表</code>的情况。</p> <h3 id="_1-5-字段名称"><a href="#_1-5-字段名称" class="header-anchor">#</a> 1.5 字段名称</h3> <p><code>字段名称</code>是开发人员发挥空间最大，但也最容易发生混乱的地方。</p> <p>比如有些表，使用flag表示状态，另外的表用status表示状态。</p> <p>可以统一一下，使用status表示状态。</p> <p>如果一个表使用了另一个表的主键，可以在另一张表的名后面，加<code>_id</code>或<code>_sys_no</code>，例如：</p> <p>在product_sku表中有个字段，是product_spu表的主键，这时候可以取名：product_spu_id或product_spu_sys_no。</p> <p>还有创建时间，可以统一成：create_time，修改时间统一成：update_time。</p> <p>删除状态固定为：delete_status。</p> <p>其实还有很多公共字段，在不同的表之间，可以使用全局统一的命名规则，定义成相同的名称，以便于大家好理解。</p> <h3 id="_1-6-索引名"><a href="#_1-6-索引名" class="header-anchor">#</a> 1.6 索引名</h3> <p>在数据库中，索引有很多种，包括：主键、普通索引、唯一索引、联合索引等。</p> <p>每张表的主键只有一个，一般使用：<code>id</code>或者<code>sys_no</code>命名。</p> <p>普通索引和联合索引，其实是一类。在建立该类索引时，可以加<code>ix_</code>前缀，比如：ix_product_status。</p> <p>唯一索引，可以加<code>ux_</code>前缀，比如：ux_product_code。</p> <h2 id="_2、字段类型"><a href="#_2、字段类型" class="header-anchor">#</a> 2、字段类型</h2> <p>在设计表时，我们在选择<code>字段类型</code>时，可发挥空间很大。</p> <p>时间格式的数据有：date、datetime和timestamp等等可以选择。</p> <p>字符类型的数据有：varchar、char、text等可以选择。</p> <p>数字类型的数据有：int、bigint、smallint、tinyint等可以选择。</p> <p>说实话，选择很多，有时候是一件好事，也可能是一件坏事。</p> <p>如何选择一个<code>合适</code>的字段类型，变成了我们不得不面对的问题。</p> <p>如果字段类型选大了，比如：原本只有1-10之间的10个数字，结果选了<code>bigint</code>，它占<code>8</code>个字节。</p> <p>其实，1-10之间的10个数字，每个数字<code>1</code>个字节就能保存，选择<code>tinyint</code>更为合适。</p> <p>这样会白白浪费7个字节的空间。</p> <p>如果字段类型择小了，比如：一个18位的id字段，选择了<code>int</code>类型，最终数据会保存失败。</p> <p>所以选择一个合适的字段类型，还是非常重要的一件事情。</p> <p>以下原则可以参考一下：</p> <ol><li>尽可能选择占用存储空间小的字段类型，在满足正常业务需求的情况下，从小到大，往上选。</li> <li>如果字符串长度固定，或者差别不大，可以选择char类型。如果字符串长度差别较大，可以选择varchar类型。</li> <li>是否字段，可以选择bit类型。</li> <li>枚举字段，可以选择tinyint类型。</li> <li>主键字段，可以选择bigint类型。</li> <li>金额字段，可以选择decimal类型。</li> <li>时间字段，可以选择timestamp或datetime类型。</li></ol> <h2 id="_3、字段长度"><a href="#_3、字段长度" class="header-anchor">#</a> 3、字段长度</h2> <p>前面我们已经定义好了<code>字段名称</code>，选择了合适的<code>字段类型</code>，接下来，需要重点关注的是<code>字段长度</code>了。</p> <p>比如：varchar(20)，biginit(20)等。</p> <p>那么问题来了，<code>varchar</code>代表的是<code>字节</code>长度，还是<code>字符</code>长度呢？</p> <p>答：在mysql中除了<code>varchar</code>和<code>char</code>是代表<code>字符</code>长度之外，其余的类型都是代表<code>字节</code>长度。</p> <p>biginit(n) 这个<code>n</code>表示什么意思呢？</p> <p>假如我们定义的字段类型和长度是：bigint(4)，bigint实际长度是<code>8</code>个字节。</p> <p>现在有个数据a=1，a显示4个字节，所以在不满4个字节时前面填充0（前提是该字段设置了zerofill属性），比如：0001。</p> <p>当满了4个字节时，比如现在数据是a=123456，它会按照实际的长度显示，比如：123456。</p> <p>但需要注意的是，有些mysql客户端即使满了4个字节，也可能只显示4个字节的内容，比如会显示成：1234。</p> <p>所以bigint(4)，这里的4表示显示的长度为4个字节，实际长度还是占8个字节。</p> <h2 id="_4、字段个数"><a href="#_4、字段个数" class="header-anchor">#</a> 4、字段个数</h2> <p>我们在建表的时候，一定要对<code>字段个数</code>做一些限制。</p> <p>我之前见过有人创建的表，有几十个，甚至上百个字段，表中保存的数据非常大，查询效率很低。</p> <p>如果真有这种情况，可以将一张<code>大表</code>拆成多张<code>小表</code>，这几张表的主键相同。</p> <p>建议每表的字段个数，不要超过<code>20</code>个。</p> <h2 id="_5、主键"><a href="#_5、主键" class="header-anchor">#</a> 5、主键</h2> <p>在创建表时，一定要创建<code>主键</code>。</p> <p>因为主键自带了主键索引，相比于其他索引，主键索引的查询效率最高，因为它不需要回表。</p> <p>此外，主键还是天然的<code>唯一索引</code>，可以根据它来判重。</p> <p>在<code>单个</code>数据库中，主键可以通过<code>AUTO_INCREMENT</code>，设置成<code>自动增长</code>的。</p> <p>但在<code>分布式</code>数据库中，特别是做了分库分表的业务库中，主键最好由外部算法(比如：雪花算法）生成，它能够保证生成的id是全局唯一的。</p> <p>除此之外，主键建议保存跟业务无关的值，减少业务耦合性，方便今后的扩展。</p> <p>不过我也见过，有些一对一的表关系，比如：用户表和用户扩展表，在保存数据时是一对一的关系。</p> <p>这样，用户扩展表的主键，可以直接保存用户表的主键。</p> <h2 id="_6、存储引擎"><a href="#_6、存储引擎" class="header-anchor">#</a> 6、存储引擎</h2> <p>在<code>mysql8</code>以前的版本，默认的存储引擎是<code>myslam</code>，而<code>mysql8</code>以后的版本，默认的存储引擎变成了<code>innodb</code>。</p> <p>之前我们还在创建表时，还一直纠结要选哪种存储引擎？</p> <p><code>myslam</code>的索引和数据分开存储，而有利于查询，但它不支持事务和外键等功能。</p> <p>而<code>innodb</code>虽说查询性能，稍微弱一点，但它支持事务和外键等，功能更强大一些。</p> <p>以前的建议是：读多写少的表，用myslam存储引擎。而写多读多的表，用innodb。</p> <p>但虽说mysql对innodb存储引擎性能的不断优化，现在myslam和innodb查询性能相差已经越来越小。</p> <p>所以，建议我们在使用<code>mysql8</code>以后的版本时，直接使用默认的<code>innodb</code>存储引擎即可，无需额外修改存储引擎。</p> <h2 id="_7、not-null"><a href="#_7、not-null" class="header-anchor">#</a> 7、NOT NULL</h2> <p>在创建字段时，需要选择该字段是否允许为<code>NULL</code>。</p> <p>我们在定义字段时，应该尽可能明确该字段<code>NOT NULL</code>。</p> <p>为什么呢？</p> <p>我们主要以innodb存储引擎为例，myslam存储引擎没啥好说的。</p> <p>主要有以下原因：</p> <ol><li>在innodb中，需要额外的空间存储null值，需要占用更多的空间。</li> <li>null值可能会导致索引失效。</li> <li>null值只能用<code>is null</code>或者<code>is not null</code>判断，用<code>=号</code>判断永远返回false。</li></ol> <p>因此，建议我们在定义字段时，能定义成NOT NULL，就定义成NOT NULL。</p> <p>但如果某个字段直接定义成NOT NULL，万一有些地方忘了给该字段写值，就会<code>insert</code>不了数据。</p> <p>这也算合理的情况。</p> <p>但有一种情况是，系统有新功能上线，新增了字段。上线时一般会先执行sql脚本，再部署代码。</p> <p>由于老代码中，不会给新字段赋值，则insert数据时，也会报错。</p> <p>由此，非常有必要给NOT NULL的字段设置默认值，特别是后面新增的字段。</p> <p>例如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> product_sku <span class="token keyword">add</span> <span class="token keyword">column</span>  brand_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_8、外键"><a href="#_8、外键" class="header-anchor">#</a> 8、外键</h2> <p>在mysql中，是存在<code>外键</code>的。</p> <p>外键存在的主要作用是：保证数据的<code>一致性</code>和<code>完整性</code>。</p> <p>例如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> class <span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
  cname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>有个班级表class。</p> <p>然后有个student表</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
  name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  gender <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  cid <span class="token keyword">int</span><span class="token punctuation">,</span>
  <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>cid<span class="token punctuation">)</span> <span class="token keyword">references</span> class<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>其中student表中的cid字段，保存的class表的id，这时通过<code>foreign key</code>增加了一个外键。</p> <p>这时，如果你直接通过student表的id删除数据，会报异常：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>a <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token keyword">constraint</span> fails
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>必须要先删除class表对于的cid那条数据，再删除student表的数据才行，这样能够保证数据的一致性和完整性。</p> <blockquote><p>顺便说一句：只有存储引擎是innodb时，才能使用外键。</p></blockquote> <p>如果只有两张表的关联还好，但如果有十几张表都建了外键关联，每删除一次主表，都需要同步删除十几张子表，很显然性能会非常差。</p> <p>因此，互联网系统中，一般建议不使用外键。因为这类系统更多的是为了性能考虑，宁可牺牲一点数据一致性和完整性。</p> <p>除了<code>外键</code>之外，<code>存储过程</code>和<code>触发器</code>也不太建议使用，他们都会影响性能。</p> <h2 id="_9、索引"><a href="#_9、索引" class="header-anchor">#</a> 9、索引</h2> <p>在建表时，除了指定<code>主键索引</code>之外，还需要创建一些<code>普通索引</code>。</p> <p>例如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> product_sku<span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
  spu_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  brand_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在创建商品表时，使用spu_id（商品组表）和brand_id（品牌表）的id。</p> <p>像这类保存其他表id的情况，可以增加普通索引：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> product_sku <span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
  spu_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  brand_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>ix_spu_id<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>spu_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>ix_brand_id<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>后面查表的时候，效率更高。</p> <p>但索引字段也不能建的太多，可能会影响保存数据的效率，因为索引需要额外的存储空间。</p> <p>建议单表的索引个数不要超过：<code>5</code>个。</p> <p>如果在建表时，发现索引个数超过5个了，可以删除部分<code>普通索引</code>，改成<code>联合索引</code>。</p> <p>顺便说一句：在创建联合索引的时候，需要使用注意<code>最左匹配原则</code>，不然，建的联合索引效率可能不高。</p> <p>对于数据重复率非常高的字段，比如：状态，不建议单独创建普通索引。因为即使加了索引，如果mysql发现<code>全表扫描</code>效率更高，可能会导致索引失效。</p> <p>如果你对索引失效问题比较感兴趣，可以看看我的另一篇文章《<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247491626&amp;idx=1&amp;sn=18fc949c06f04fe8f4c29b6fc5c66f9c&amp;chksm=c0e838c2f79fb1d45c6f9b2ab188bb4663414690bab0718a7d46beb875e6b83e5e67ec27d2ff&amp;token=660773166&amp;lang=zh_CN&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">聊聊索引失效的10种场景，太坑了<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>》，里面有非常详细的介绍。</p> <h2 id="_10、时间字段"><a href="#_10、时间字段" class="header-anchor">#</a> 10、时间字段</h2> <p><code>时间字段</code>的类型，我们可以选择的范围还是比较多的，目前mysql支持：date、datetime、timestamp、varchar等。</p> <p><code>varchar</code>类型可能是为了跟接口保持一致，接口中的时间类型是String。</p> <p>但如果哪天我们要通过时间范围查询数据，效率会非常低，因为这种情况没法走索引。</p> <p><code>date</code>类型主要是为了保存<code>日期</code>，比如：2020-08-20，不适合保存<code>日期和时间</code>，比如：2020-08-20 12:12:20。</p> <p>而<code>datetime</code>和<code>timestamp</code>类型更适合我们保存<code>日期和时间</code>。</p> <p>但它们有略微区别。</p> <ul><li><code>timestamp</code>：用4个字节来保存数据，它的取值范围为<code>1970-01-01 00:00:01</code> UTC ~ <code>2038-01-19 03:14:07</code>。此外，它还跟时区有关。</li> <li><code>datetime</code>：用8个字节来保存数据，它的取值范围为<code>1000-01-01 00:00:00</code> ~ <code>9999-12-31 23:59:59</code>。它跟时区无关。</li></ul> <p>优先推荐使用<code>datetime</code>类型保存日期和时间，可以保存的时间范围更大一些。</p> <blockquote><p>温馨提醒一下，在给时间字段设置默认值是，建议不要设置成：<code>0000-00-00 00:00:00</code>，不然查询表时可能会因为转换不了，而直接报错。</p></blockquote> <h2 id="_11、金额字段"><a href="#_11、金额字段" class="header-anchor">#</a> 11、金额字段</h2> <p>mysql中有多个字段可以表示浮点数：float、double、decimal等。</p> <p>而<code>float</code>和<code>double</code>可能会丢失精度，因此推荐大家使用<code>decimal</code>类型保存金额。</p> <p>一般我们是这样定义浮点数的：decimal(m,n)。</p> <p>其中<code>n</code>是指<code>小数</code>的长度，而<code>m</code>是指<code>整数加小数</code>的总长度。</p> <p>假如我们定义的金额类型是这样的：decimal(10,2)，则表示整数长度是8位，并且保留2位小数。</p> <h2 id="_12、唯一索引"><a href="#_12、唯一索引" class="header-anchor">#</a> 12、唯一索引</h2> <p><code>唯一索引</code>在我们实际工作中，使用频率相当高。</p> <p>你可以给单个字段，加唯一索引，比如：组织机构code。</p> <p>也可以给多个字段，加一个联合的唯一索引，比如：分类编号、单位、规格等。</p> <p>单个的唯一索引还好，但如果是联合的唯一索引，字段值出现null时，则唯一性约束可能会失效。</p> <p>关于唯一索引失效的问题，感兴趣的小伙伴可以看看我的另一篇文章《<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247497090&amp;idx=1&amp;sn=53b81535a9815853382c3a4bff8c844b&amp;chksm=c0e82d6af79fa47ccfece23a8b0ad46ef6c647f1d2f961823eed181732c47e250ed0cbcfe6fd&amp;token=1169141359&amp;lang=zh_CN&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">明明加了唯一索引，为什么还是产生重复数据？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>》。</p> <blockquote><p>创建唯一索引时，相关字段一定不能包含null值，否则唯一性会失效。</p></blockquote> <h2 id="_13、字符集"><a href="#_13、字符集" class="header-anchor">#</a> 13、字符集</h2> <p>mysql中支持的<code>字符集</code>有很多，常用的有：latin1、utf-8、utf8mb4、GBK等。</p> <p>这4种字符集情况如下：<img src="http://yz-typora-img.oss-cn-shanghai.aliyuncs.com/img/640" alt="图片"></p> <p><code>latin1</code>容易出现乱码问题，在实际项目中使用比较少。</p> <p>而<code>GBK</code>支持中文，但不支持国际通用字符，在实际项目中使用也不多。</p> <p>从目前来看，mysql的字符集使用最多的还是：<code>utf-8</code>和<code>utf8mb4</code>。</p> <p>其中<code>utf-8</code>占用3个字节，比<code>utf8mb4</code>的4个字节，占用更小的存储空间。</p> <p>但utf-8有个问题：即无法存储emoji表情，因为emoji表情一般需要4个字节。</p> <p>由此，使用utf-8字符集，保存emoji表情时，数据库会直接报错。</p> <p>所以，建议在建表时字符集设置成：<code>utf8mb4</code>，会省去很多不必要的麻烦。</p> <h2 id="_14、排序规则"><a href="#_14、排序规则" class="header-anchor">#</a> 14、排序规则</h2> <p>不知道，你关注过没，在mysql中创建表时，有个<code>COLLATE</code>参数可以设置。</p> <p>例如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>order<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>code<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_bin <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_bin <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>un_code<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>code<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>un_code_name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>code<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>idx_name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">5</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>它是用来设置<code>排序规则</code>的。</p> <p>字符排序规则跟字符集有关，比如：字符集如果是<code>utf8mb4</code>，则字符排序规则也是以：<code>utf8mb4_</code>开头的，常用的有：<code>utf8mb4_general_ci</code>、<code>utf8mb4_bin</code>等。</p> <p>其中utf8mb4_general_ci排序规则，对字母的大小写不敏感。说得更直白一点，就是不区分大小写。</p> <p>而utf8mb4_bin排序规则，对字符大小写敏感，也就是区分大小写。</p> <p>说实话，这一点还是非常重要的。</p> <p>假如order表中现在有一条记录，name的值是大写的YOYO，但我们用小写的yoyo去查，例如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">order</span> <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'yoyo'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果字符排序规则是utf8mb4_general_ci，则可以查出大写的YOYO的那条数据。</p> <p>如果字符排序规则是utf8mb4_bin，则查不出来。</p> <p>由此，字符排序规则一定要根据实际的业务场景选择，否则容易出现问题。</p> <h2 id="_15、大字段"><a href="#_15、大字段" class="header-anchor">#</a> 15、大字段</h2> <p>我们在创建表时，对一些特殊字段，要额外关注，比如：<code>大字段</code>，即占用较多存储空间的字段。</p> <p>比如：用户的评论，这就属于一个大字段，但这个字段可长可短。</p> <p>但一般会对评论的总长度做限制，比如：最多允许输入500个字符。</p> <p>如果直接定义成<code>text</code>类型，可能会浪费存储空间，所以建议将这类字段定义成<code>varchar</code>类型的存储效率更高。</p> <p>当然，我还见过更大的字段，即该字段直接保存合同数据。</p> <p>一个合同可能会占<code>几Mb</code>。</p> <p>在mysql中保存这种数据，从系统设计的角度来说，本身就不太合理。</p> <p>像合同这种非常大的数据，可以保存到<code>mongodb</code>中，然后在mysql的业务表中，保存mongodb表的id。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/MrYz0/edit/master/docs/07.文章/02.MySQL/17.数据库建表的15个小技巧.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/JavaCore/pages/deaac8/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">数据库表关系详解(一对多、一对一、多对多)</div></a> <a href="/JavaCore/pages/76517c/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">如何优雅的写Controller层</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/JavaCore/pages/deaac8/" class="prev">数据库表关系详解(一对多、一对一、多对多)</a></span> <span class="next"><a href="/JavaCore/pages/76517c/">如何优雅的写Controller层</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/JavaCore/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/JavaCore/pages/43ff41/"><div>
            深入理解Java String类型
            <!----></div></a> <span class="date">09-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/JavaCore/pages/80ae21/"><div>
            Java常用工具类
            <!----></div></a> <span class="date">09-23</span></dt></dl><dl><dd>03</dd> <dt><a href="/JavaCore/pages/397652/"><div>
            深入理解Java注解
            <!----></div></a> <span class="date">09-23</span></dt></dl> <dl><dd></dd> <dt><a href="/JavaCore/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/MrYz0" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Yang zhou | <a href="" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/JavaCore/assets/js/app.dbe5bb79.js" defer></script><script src="/JavaCore/assets/js/2.cf8b9bc2.js" defer></script><script src="/JavaCore/assets/js/69.a6686601.js" defer></script>
  </body>
</html>
